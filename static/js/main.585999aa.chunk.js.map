{"version":3,"sources":["util/apis.js","components/game-list.jsx","components/logo.jsx","components/game-view.jsx","components/app.jsx","index.js"],"names":["periodNames","1","2","3","4","5","6","periodOrdinals","titles","GAME_START","PERIOD_START","period","concat","PERIOD_END","GAME_END","formatMinutes","minutes","m","Math","floor","s","slice","fetchUpcomingGames","_x","_fetchUpcomingGames","apply","this","arguments","_callee","date","formattedDate","_ref2","data","regenerator_default","a","wrap","_context","prev","next","moment","Date","format","axios","get","sent","abrupt","Promise","all","dates","reduce","acc","games","map","game","fetchGame","stop","formatPlay","play","id","result","eventCode","about","dateTime","type","eventTypeId","team","triCode","players","player","fullName","time","periodTime","title","description","replace","secondaryType","toLowerCase","_callee2","_ref","gamePk","seriesSummary","_ref3","_ref3$data","_ref3$data$gameData","_ref3$data$gameData$t","away","home","_ref3$data$liveData","_ref3$data$liveData$p","allPlays","scoringPlays","penaltyPlays","_ref3$data$liveData$p2","currentPlay","_ref3$data$liveData$l","currentPeriod","currentPeriodTimeRemaining","_ref3$data$liveData$l2","_ref3$data$liveData$l3","awayGoals","awaySkaters","awayShots","_ref3$data$liveData$l4","homeGoals","homeSkaters","homeShots","_ref3$data$liveData$l5","intermissionInfo","_ref3$data$liveData$l6","powerPlayInfo","_context2","gameData","datetime","teams","liveData","plays","linescore","goals","numSkaters","shotsOnGoal","series","round","number","gameLabel","seriesStatusShort","name","teamName","code","abbreviation","shots","skaters","status","started","length","stopped","ended","periodOrdinal","periodClock","powerplay","inSituation","powerplaySide","powerplayClock","situationTimeRemaining","intermission","inIntermission","intermissionClock","intermissionTimeRemaining","Object","toConsumableArray","i","filter","winnerName","winnerScore","max","loserScore","min","sort","b","diff","fetchGameThreads","_x3","_fetchGameThreads","_callee3","_ref4","children","_context3","child","_child$data","created","find","includes","abs","formatComment","comment","flairPattern","author","test","author_flair_text","exec","body","decode","body_html","fetchComments","_x4","_fetchComments","_callee4","_ref5","_ref5$data","_context4","slicedToArray","GameListWrapper","styled","div","_templateObject","selected","css","_templateObject2","disabled","_templateObject3","GameWrapper","_templateObject4","props","TeamColumn","_templateObject5","TeamName","span","_templateObject6","TeamGoals","_templateObject7","StatusColumn","_templateObject8","GamePeriod","_templateObject9","GameClock","_templateObject10","Game","onSelect","showDate","showPeriod","showFinal","showIntermission","react_default","createElement","onClick","react","GameList","selectedGameId","onSelectGame","assign","key","ANA","common","logo_templateObject","logo_templateObject2","logo_templateObject3","ARI","logo_templateObject4","logo_templateObject5","logo_templateObject6","BOS","logo_templateObject7","logo_templateObject8","logo_templateObject9","BUF","logo_templateObject10","_templateObject11","_templateObject12","CAR","_templateObject13","_templateObject14","_templateObject15","CBJ","_templateObject16","_templateObject17","_templateObject18","CGY","_templateObject19","_templateObject20","_templateObject21","CHI","_templateObject22","_templateObject23","_templateObject24","COL","_templateObject25","_templateObject26","_templateObject27","DAL","_templateObject28","_templateObject29","_templateObject30","DET","_templateObject31","_templateObject32","_templateObject33","EDM","_templateObject34","_templateObject35","_templateObject36","FLA","_templateObject37","_templateObject38","_templateObject39","LAK","_templateObject40","_templateObject41","_templateObject42","MIN","_templateObject43","_templateObject44","_templateObject45","MTL","_templateObject46","_templateObject47","_templateObject48","NJD","_templateObject49","_templateObject50","_templateObject51","NSH","_templateObject52","_templateObject53","_templateObject54","NYI","_templateObject55","_templateObject56","_templateObject57","NYR","_templateObject58","_templateObject59","_templateObject60","OTT","_templateObject61","_templateObject62","_templateObject63","PHI","_templateObject64","_templateObject65","_templateObject66","PIT","_templateObject67","_templateObject68","_templateObject69","SEA","_templateObject70","_templateObject71","_templateObject72","SJS","_templateObject73","_templateObject74","_templateObject75","STL","_templateObject76","_templateObject77","_templateObject78","TBL","_templateObject79","_templateObject80","_templateObject81","TOR","_templateObject82","_templateObject83","_templateObject84","VAN","_templateObject85","_templateObject86","_templateObject87","VGK","_templateObject88","_templateObject89","_templateObject90","WPG","_templateObject91","_templateObject92","_templateObject93","WSH","_templateObject94","_templateObject95","_templateObject96","Logo","className","src","alt","GameViewWrapper","game_view_templateObject","BoxscoreSection","section","game_view_templateObject2","PlaysSection","game_view_templateObject3","CommentsSection","game_view_templateObject4","GameTitle","game_view_templateObject5","game_view_templateObject6","TeamLogo","game_view_templateObject7","side","game_view_templateObject8","game_view_templateObject9","TeamShots","game_view_templateObject10","game_view_templateObject11","game_view_templateObject12","game_view_templateObject13","specialTeamStyles","even","game_view_templateObject14","game_view_templateObject15","game_view_templateObject16","SpecialTeam","game_view_templateObject17","themes","GOAL","PENALTY","Play","game_view_templateObject18","PlayLogo","game_view_templateObject19","PlayTitle","game_view_templateObject20","PlayTime","game_view_templateObject21","Comment","game_view_templateObject22","CommentLogo","game_view_templateObject23","CommentBody","game_view_templateObject24","CommentText","game_view_templateObject25","CommentAuthor","game_view_templateObject26","GameView","comments","showPowerplay","game_view_TeamColumn","game_view_TeamName","game_view_TeamGoals","game_view_StatusColumn","game_view_GamePeriod","game_view_GameClock","dangerouslySetInnerHTML","__html","ApplicationWrapper","app_templateObject","Application","_Component","_getPrototypeOf2","_this","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","state","threads","commentsById","inherits","createClass","value","_componentDidMount","asyncToGenerator","mark","refreshGames","refreshGameThreads","refreshComments","_this2","params","URLSearchParams","window","location","search","setState","thread","objectSpread","defineProperty","setInterval","_this3","_this$state","t","Component","ReactDOM","render","app_Application","document","getElementById"],"mappings":"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","file":"static/js/main.585999aa.chunk.js","sourcesContent":["import axios from \"axios\";\nimport moment from \"moment\";\nimport decode from \"decode-html\";\n\nconst periodNames = {\n  1: \"1st Period\",\n  2: \"2nd Period\",\n  3: \"3rd Period\",\n  4: \"Overtime\",\n  5: \"Double Overtime\",\n  6: \"Triple Overtime\",\n};\n\nconst periodOrdinals = {\n  1: \"1st\",\n  2: \"2nd\",\n  3: \"3rd\",\n  4: \"OT\",\n  5: \"2OT\",\n  6: \"3OT\",\n};\n\nconst titles = {\n  GAME_START: () => \"Start of Game\",\n  PERIOD_START: (period) => `Start of ${period}`,\n  PERIOD_END: (period) => `End of ${period}`,\n  GAME_END: () => \"End of Game\",\n};\n\nfunction formatMinutes(minutes) {\n  const m = Math.floor(minutes / 60);\n  const s = Math.floor(minutes % 60);\n  return `${m}:${(\"00\" + s).slice(-2)}`;\n}\n\nexport async function fetchUpcomingGames(date) {\n  const formattedDate = moment(date || new Date()).format(\"YYYY-MM-DD\");\n  const { data } = await axios.get(\n    `https://statsapi.web.nhl.com/api/v1/schedule?expand=schedule.game.seriesSummary,seriesSummary.series&startDate=${formattedDate}&endDate=${formattedDate}`\n  );\n  return Promise.all(\n    data.dates.reduce(\n      (acc, date) => acc.concat(date.games.map((game) => fetchGame(game))),\n      []\n    )\n  );\n}\n\nfunction formatPlay(play) {\n  return {\n    id: play.result.eventCode,\n    date: moment(play.about.dateTime),\n    type: play.result.eventTypeId,\n    team: play.team && play.team.triCode,\n    players:\n      play.players && play.players.map((player) => player.player.fullName),\n    period: periodOrdinals[play.about.period],\n    time: play.about.periodTime,\n    title: play.result.description\n      .replace(\", assists: none\", \"\")\n      .replace(\", assists:\", \" assisted by\")\n      .replace(/ \\(\\d+\\)/g, \"\")\n      .replace(\", \", \" and \")\n      .replace(\n        play.result.secondaryType,\n        play.result.secondaryType ? play.result.secondaryType.toLowerCase() : \"\"\n      )\n      .replace(\"delaying game -\", \"delaying game by\")\n      .replace(\"delay of game -\", \"delaying game by\")\n      .replace(\"deflected\", \"deflection\")\n      .replace(\"interference - goalkeeper\", \"goaltender interference\"),\n  };\n}\n\nasync function fetchGame({ gamePk, seriesSummary }) {\n  const {\n    data: {\n      gameData: {\n        datetime: { dateTime },\n        teams: { away, home },\n      },\n      liveData: {\n        plays: {\n          allPlays,\n          scoringPlays,\n          penaltyPlays,\n          currentPlay = { result: {} },\n        },\n        linescore: {\n          currentPeriod,\n          currentPeriodTimeRemaining,\n          teams: {\n            away: {\n              goals: awayGoals,\n              numSkaters: awaySkaters,\n              shotsOnGoal: awayShots,\n            },\n            home: {\n              goals: homeGoals,\n              numSkaters: homeSkaters,\n              shotsOnGoal: homeShots,\n            },\n          },\n          intermissionInfo = {},\n          powerPlayInfo = {},\n        },\n      },\n    },\n  } = await axios.get(\n    `https://statsapi.web.nhl.com/api/v1/game/${gamePk}/feed/live`\n  );\n\n  return {\n    id: gamePk,\n    date: moment(dateTime),\n    title:\n      seriesSummary &&\n      `Round ${seriesSummary.series.round.number} - ${\n        seriesSummary.gameLabel\n      } - ${seriesSummary.seriesStatusShort || \"Tied 0-0\"}`,\n    away: {\n      name: away.name,\n      teamName: away.teamName,\n      code: away.abbreviation,\n      goals: awayGoals,\n      shots: awayShots,\n      skaters: awaySkaters,\n    },\n    home: {\n      name: home.name,\n      teamName: home.teamName,\n      code: home.abbreviation,\n      goals: homeGoals,\n      shots: homeShots,\n      skaters: homeSkaters,\n    },\n    status: {\n      started: allPlays.length > 1,\n      stopped: currentPlay.result.eventTypeId === \"GAME_STOPPAGE\",\n      ended: currentPlay.result.eventTypeId === \"GAME_END\",\n      period: periodNames[currentPeriod],\n      periodOrdinal: periodOrdinals[currentPeriod],\n      periodClock: currentPeriodTimeRemaining,\n      powerplay: !!powerPlayInfo.inSituation,\n      powerplaySide:\n        home.numSkaters > away.numSkaters\n          ? \"home\"\n          : home.numSkaters < away.numSkaters\n          ? \"away\"\n          : \"even\",\n      powerplayClock:\n        powerPlayInfo.inSituation &&\n        formatMinutes(powerPlayInfo.situationTimeRemaining),\n      intermission: !!intermissionInfo.inIntermission,\n      intermissionClock:\n        intermissionInfo.inIntermission &&\n        formatMinutes(intermissionInfo.intermissionTimeRemaining),\n    },\n    plays: [\n      ...scoringPlays.map((i) => formatPlay(allPlays[i])),\n      ...penaltyPlays.map((i) => formatPlay(allPlays[i])),\n      ...allPlays\n        .filter((play) => titles[play.result.eventTypeId])\n        .map((play) => ({\n          id: play.result.eventCode,\n          date: moment(play.about.dateTime),\n          type: play.result.eventTypeId,\n          title: (() => {\n            switch (play.result.eventTypeId) {\n              case \"PERIOD_START\":\n                return `Start of ${periodNames[play.about.period]}`;\n              case \"PERIOD_END\":\n                return `End of ${periodNames[play.about.period]}`;\n              case \"GAME_END\":\n                const winnerName =\n                  awayGoals > homeGoals ? away.abbreviation : home.abbreviation;\n\n                const winnerScore = Math.max(awayGoals, homeGoals);\n                const loserScore = Math.min(awayGoals, homeGoals);\n                return `${winnerName} wins ${winnerScore}-${loserScore}`;\n              default:\n                return \"Unknown\";\n            }\n          })(),\n        })),\n    ].sort((a, b) => b.date.diff(a.date)),\n  };\n}\n\nexport async function fetchGameThreads(games) {\n  const {\n    data: {\n      data: { children },\n    },\n  } = await axios.get(\n    `https://www.reddit.com/r/hockey/search.json?q=flair%3A%22%5BGDT%5D%22+OR+flair%3A%22%5BPGT%5D%22&restrict_sr=on&sort=new&t=month`\n  );\n\n  return children.reduce((acc, child) => {\n    const { id, title, created } = child.data;\n    const game = games.find((game) => {\n      return (\n        title.includes(game.home.teamName) &&\n        title.includes(game.away.teamName) &&\n        Math.abs(moment(created * 1000).diff(game.date, \"minutes\")) < 720\n      );\n    });\n    return game ? acc.concat({ id, game: game.id }) : acc;\n  }, []);\n}\n\nfunction formatComment(comment) {\n  const flairPattern = /([A-Z]{3}) - (NHL|Bandwagon)/;\n  return {\n    id: comment.id,\n    author: comment.author,\n    team: flairPattern.test(comment.author_flair_text)\n      ? flairPattern.exec(comment.author_flair_text)[1]\n      : \"nhl\",\n    body: decode(comment.body_html),\n  };\n}\n\nexport async function fetchComments(id) {\n  const {\n    data: [\n      ,\n      {\n        data: { children },\n      },\n    ],\n  } = await axios.get(`https://www.reddit.com/r/hockey/comments/${id}.json`);\n\n  return children\n    .slice(0, children.length - 1)\n    .map((child) => formatComment(child.data));\n}\n","import React, { Fragment } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport moment from \"moment\";\n\nconst GameListWrapper = styled.div`\n  grid-area: game-list;\n  display: flex;\n  overflow-x: scroll;\n  background: #ffffff;\n`;\n\nconst selected = css`\n  cursor: pointer;\n  border-top: 3px solid #4a4a4a;\n`;\n\nconst disabled = css`\n  cursor: normal;\n  pointer-events: none;\n`;\n\nconst GameWrapper = styled.div`\n  display: flex;\n  padding: 16px;\n  border-right: 1px solid #eee;\n\n  ${(props) => props.selected && selected};\n  ${(props) => props.disabled && disabled};\n  &:hover {\n    ${selected};\n  }\n`;\n\nconst TeamColumn = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst TeamName = styled.span`\n  font-size: 16px;\n  margin-bottom: 4px;\n`;\n\nconst TeamGoals = styled.span`\n  font-size: 24px;\n  font-weight: 500;\n`;\n\nconst StatusColumn = styled.div`\n  min-width: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst GamePeriod = styled.span`\n  font-size: 14px;\n  margin-bottom: 4px;\n`;\n\nconst GameClock = styled.span`\n  font-size: 14px;\n  font-weight: 300;\n\n  ${(props) => props.stopped && \"color: #e53935;\"};\n`;\n\nfunction Game({ id, date, home, away, status, selected, onSelect }) {\n  const showDate = !status.started && !status.ended && !status.intermission;\n  const showPeriod = status.started && !status.ended && !status.intermission;\n  const showFinal = status.started && status.ended && !status.intermission;\n  const showIntermission =\n    status.started && !status.ended && status.intermission;\n  return (\n    <GameWrapper\n      onClick={() => onSelect(id)}\n      selected={selected}\n      disabled={date.diff(moment(), \"minutes\") > 60}\n    >\n      <TeamColumn team={away.code}>\n        <TeamName>{away.code}</TeamName>\n        <TeamGoals>{away.goals}</TeamGoals>\n      </TeamColumn>\n      <StatusColumn>\n        {showDate && (\n          <Fragment>\n            <GamePeriod>{date.format(\"ddd Do\")}</GamePeriod>\n            <GameClock>{date.format(\"h:mm A\")}</GameClock>\n          </Fragment>\n        )}\n        {showPeriod && (\n          <Fragment>\n            <GamePeriod>{status.periodOrdinal}</GamePeriod>\n            <GameClock>{status.periodClock}</GameClock>\n          </Fragment>\n        )}\n        {showIntermission && (\n          <Fragment>\n            <GamePeriod>End {status.periodOrdinal}</GamePeriod>\n            <GameClock>{status.intermissionClock}</GameClock>\n          </Fragment>\n        )}\n        {showFinal && <GamePeriod>Final</GamePeriod>}\n      </StatusColumn>\n      <TeamColumn team={home.code}>\n        <TeamName>{home.code}</TeamName>\n        <TeamGoals>{home.goals}</TeamGoals>\n      </TeamColumn>\n    </GameWrapper>\n  );\n}\n\nexport function GameList({ games, selectedGameId, onSelectGame }) {\n  return (\n    <GameListWrapper>\n      {games.map((game) => (\n        <Game\n          key={game.id}\n          {...game}\n          selected={game.id === selectedGameId}\n          onSelect={onSelectGame}\n        />\n      ))}\n    </GameListWrapper>\n  );\n}\n","import React from 'react';\n\nimport { css } from 'styled-components';\n\nexport const teams = {\n  ANA: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  ARI: {\n    common: css`\n      background-size: 175%;\n    `,\n    away: css`\n      background-position: 100% 25%;\n    `,\n    home: css`\n      background-position: 100% 25%;\n      transform: scaleX(-1);\n    `\n  },\n  BOS: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  BUF: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 0 40%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 40%;\n    `\n  },\n  CAR: {\n    common: css`\n      background-size: 175%;\n    `,\n    away: css`\n      background-position: 100% 30%;\n    `,\n    home: css`\n      background-position: 100% 30%;\n      transform: scaleX(-1);\n    `\n  },\n  CBJ: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  CGY: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  CHI: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 0 50%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  COL: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 100% 75%;\n      transform: scaleX(-1);\n    `\n  },\n  DAL: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  DET: {\n    common: css`\n      background-size: 160%;\n    `,\n    away: css`\n      background-position: 0 60%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 60%;\n    `\n  },\n  EDM: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  FLA: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 0 40%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 40%;\n    `\n  },\n  LAK: {\n    common: css`\n      background-size: 100%;\n    `,\n    away: css`\n      background-position: 100% 25%;\n    `,\n    home: css`\n      background-position: 0 25%;\n    `\n  },\n  MIN: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 0 50%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  MTL: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  NJD: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  NSH: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  NYI: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 40%;\n    `,\n    home: css`\n      background-position: 0 40%;\n    `\n  },\n  NYR: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  OTT: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 100% 75%;\n      transform: scaleX(-1);\n    `\n  },\n  PHI: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  PIT: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 0 20%;\n      transform: scaleX(-1);\n    `,\n    home: css`\n      background-position: 0 20%;\n    `\n  },\n  SEA: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 50% 20%;\n    `,\n    home: css`\n      background-position: 0 20%;\n    `\n  },\n  SJS: {\n    common: css`\n      background-size: 150%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 100% 75%;\n      transform: scaleX(-1);\n    `\n  },\n  STL: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  TBL: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  },\n  TOR: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 0 75%;\n    `\n  },\n  VAN: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 75%;\n    `,\n    home: css`\n      background-position: 100% 75%;\n      transform: scaleX(-1);\n    `\n  },\n  VGK: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  WPG: {\n    common: css`\n      background-size: 125%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 100% 50%;\n      transform: scaleX(-1);\n    `\n  },\n  WSH: {\n    common: css`\n      background-size: 110%;\n    `,\n    away: css`\n      background-position: 100% 50%;\n    `,\n    home: css`\n      background-position: 0 50%;\n    `\n  }\n};\n\nexport function Logo({ team, className }) {\n  return (\n    <img\n      className={className}\n      src={`logos/logo_${team.toLowerCase()}.svg`}\n      alt={`${team} Logo`}\n    />\n  );\n}\n","import React, { Fragment } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { Logo, teams } from \"./logo\";\n\nconst GameViewWrapper = styled.div`\n  grid-area: game-view;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 2fr 1fr;\n  grid-template-rows: 320px auto;\n  grid-template-areas:\n    \"boxscore plays\"\n    \"comments plays\";\n\n  @media (max-width: 1268px) {\n    grid-template-columns: 1fr;\n    grid-template-rows: 320px auto;\n    grid-template-areas:\n      \"boxscore\"\n      \"plays\"\n      \"comments\";\n  }\n`;\n\nconst BoxscoreSection = styled.section`\n  grid-area: \"boxscore\";\n  position: relative;\n  display: flex;\n  background: #ffffff;\n`;\n\nconst PlaysSection = styled.section`\n  grid-area: \"plays\";\n`;\n\nconst CommentsSection = styled.section`\n  grid-area: \"comments\";\n`;\n\nconst GameTitle = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 16px;\n  left: 0;\n  right: 0;\n  text-align: center;\n  line-height: 1.6;\n  z-index: 1;\n`;\n\nconst TeamColumn = styled.div`\n  flex: 1;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-weight: 900;\n\n  * {\n    position: relative;\n  }\n`;\n\nconst TeamLogo = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: .05;\n  background-image: url('logos/logo_${(props) =>\n    props.team.toLowerCase()}.svg');  \n  background-repeat: no-repeat;\n  ${(props) => teams[props.team].common};\n  ${(props) => teams[props.team][props.side]};\n`;\n\nconst TeamName = styled.span`\n  font-size: 32px;\n`;\n\nconst TeamGoals = styled.span`\n  font-size: 96px;\n  line-height: 112px;\n`;\n\nconst TeamShots = styled.span`\n  font-size: 16px;\n  text-transform: uppercase;\n`;\n\nconst StatusColumn = styled.div`\n  min-width: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 24px;\n`;\n\nconst GamePeriod = styled.span`\n  font-weight: 500;\n`;\n\nconst GameClock = styled.span`\n  text-align: center;\n  font-weight: 400;\n  line-height: 2;\n\n  ${(props) => props.stopped && \"color: #e53935;\"};\n`;\n\nconst specialTeamStyles = {\n  even: css`\n    right: 50%;\n    bottom: 24px;\n    transform: translateX(50%);\n  `,\n  away: css`\n    top: 50%;\n    right: 50%;\n    transform: translateX(-250%) translateY(-50%);\n  `,\n  home: css`\n    top: 50%;\n    right: 50%;\n    transform: translateX(350%) translateY(-50%);\n  `,\n};\n\nconst SpecialTeam = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  font-size: 18px;\n  ${(props) => specialTeamStyles[props.side]};\n`;\n\nconst themes = {\n  GOAL: \"rgba(76, 175, 80, 0.1)\",\n  PENALTY: \"rgba(244, 67, 54, 0.1)\",\n  PERIOD_START: \"rgba(33, 150, 243, .1)\",\n  PERIOD_END: \"rgba(33, 150, 243, .1)\",\n  GAME_END: \"rgba(255, 193, 7, .2)\",\n};\n\nconst Play = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px;\n  background: ${(props) => themes[props.type]};\n  margin-bottom: 16px;\n`;\n\nconst PlayLogo = styled(Logo)`\n  max-width: 40px;\n  max-height: 40px;\n  flex-basis: 48px;\n`;\n\nconst PlayTitle = styled.span`\n  flex: 1;\n  text-align: center;\n  margin: 0 16px;\n  line-height: 1.6;\n`;\n\nconst PlayTime = styled.div`\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  flex-basis: 48px;\n\n  span:first-of-type {\n    font-weight: 500;\n    margin-bottom: 8px;\n  }\n\n  span:last-of-type {\n    font-size: 16px;\n  }\n`;\n\nconst Comment = styled.div`\n  display: flex;\n  align-items: flex-start;\n  background: #ffffff;\n  padding: 16px;\n  font-family: \"Roboto\";\n  font-size: 14px;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: 16px;\n    font-weight: 500;\n    margin-bottom: 8px;\n  }\n\n  em {\n    font-style: italic;\n  }\n\n  strong {\n    font-weight: 500;\n  }\n\n  a {\n    color: #0099ff;\n    text-decoration: none;\n  }\n\n  table {\n    width: 100%;\n    font-size: 14px;\n    margin-bottom: 16px;\n  }\n\n  thead {\n    background: #4a4a4a;\n    color: #ffffff;\n  }\n\n  tbody {\n    background: #fafafa;\n  }\n\n  th,\n  td {\n    padding: 8px;\n  }\n`;\n\nconst CommentLogo = styled(Logo)`\n  flex-basis: 48px;\n  max-height: 32px;\n  max-width: 32px;\n  margin-right: 16px;\n`;\n\nconst CommentBody = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst CommentText = styled.div`\n  line-height: 1.6;\n`;\n\nconst CommentAuthor = styled.span`\n  font-weight: 500;\n  font-size: 10px;\n  margin-bottom: 4px;\n  text-transform: uppercase;\n`;\n\nexport function GameView({ date, title, home, away, status, plays, comments }) {\n  const showDate = !status.started && !status.ended && !status.intermission;\n  const showPeriod = status.started && !status.ended && !status.intermission;\n  const showFinal = status.started && status.ended && !status.intermission;\n  const showIntermission =\n    status.started && !status.ended && status.intermission;\n  const showPowerplay = status.started && !status.ended && status.powerplay;\n  return (\n    <GameViewWrapper>\n      <BoxscoreSection>\n        <GameTitle>\n          <span>\n            {away.name} at {home.name}\n          </span>\n          <span>{title}</span>\n        </GameTitle>\n        <TeamColumn>\n          <TeamLogo team={away.code} side=\"away\" />\n          <TeamName>{away.code}</TeamName>\n          <TeamGoals>{away.goals}</TeamGoals>\n          <TeamShots>{away.shots} Shots</TeamShots>\n        </TeamColumn>\n        <StatusColumn>\n          {showDate && (\n            <Fragment>\n              <GamePeriod>{date.format(\"ddd Do\")}</GamePeriod>\n              <GameClock>{date.format(\"h:mm A\")}</GameClock>\n            </Fragment>\n          )}\n          {showPeriod && (\n            <Fragment>\n              <GamePeriod>{status.periodOrdinal}</GamePeriod>\n              <GameClock stopped={status.stopped}>\n                {status.periodClock}\n              </GameClock>\n            </Fragment>\n          )}\n          {showIntermission && (\n            <Fragment>\n              <GamePeriod>End {status.periodOrdinal}</GamePeriod>\n              <GameClock>{status.intermissionClock}</GameClock>\n            </Fragment>\n          )}\n          {showFinal && <GamePeriod>Final</GamePeriod>}\n        </StatusColumn>\n        <TeamColumn>\n          <TeamLogo team={home.code} side=\"home\" />\n          <TeamName>{home.code}</TeamName>\n          <TeamGoals>{home.goals}</TeamGoals>\n          <TeamShots>{home.shots} Shots</TeamShots>\n        </TeamColumn>\n        {showPowerplay && (\n          <SpecialTeam side={status.powerplaySide}>\n            {home.skaters > away.skaters ? (\n              <GamePeriod>\n                {home.skaters} on {away.skaters}\n              </GamePeriod>\n            ) : (\n              <GamePeriod>\n                {away.skaters} on {home.skaters}\n              </GamePeriod>\n            )}\n            <GameClock>{status.powerplayClock}</GameClock>\n          </SpecialTeam>\n        )}\n      </BoxscoreSection>\n      <PlaysSection>\n        {plays.map((play) => (\n          <Play key={play.id} type={play.type}>\n            <PlayLogo team={play.team ? play.team : away.code} />\n            <PlayTitle>{play.title}</PlayTitle>\n            {play.team ? (\n              <PlayTime>\n                <span>{play.period}</span>\n                <span>{play.time}</span>\n              </PlayTime>\n            ) : (\n              <PlayLogo team={home.code} />\n            )}\n          </Play>\n        ))}\n      </PlaysSection>\n      <CommentsSection>\n        {comments.slice(0, 20).map((comment) => (\n          <Comment key={comment.id}>\n            <CommentLogo team={comment.team} />\n            <CommentBody>\n              <CommentAuthor>{comment.author}</CommentAuthor>\n              <CommentText dangerouslySetInnerHTML={{ __html: comment.body }} />\n            </CommentBody>\n          </Comment>\n        ))}\n      </CommentsSection>\n    </GameViewWrapper>\n  );\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport {\n  fetchUpcomingGames,\n  fetchGameThreads,\n  fetchComments,\n} from \"../util/apis\";\n\nimport { GameList } from \"./game-list\";\nimport { GameView } from \"./game-view\";\n\nconst ApplicationWrapper = styled.div`\n  max-width: 1280px;\n  min-height: 100vh;\n  margin: 32px auto;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-rows: 80px auto;\n  grid-template-areas:\n    \"game-list\"\n    \"game-view\";\n`;\n\nexport class Application extends Component {\n  state = {\n    games: [],\n    threads: [],\n    commentsById: {},\n    selectedGameId: null,\n  };\n\n  async componentDidMount() {\n    const refreshGames = async () => {\n      const params = new URLSearchParams(window.location.search);\n      const games = await fetchUpcomingGames(params.get(\"date\"));\n      this.setState({ games });\n    };\n\n    const refreshGameThreads = async () => {\n      const threads = await fetchGameThreads(this.state.games);\n      this.setState({ threads });\n    };\n\n    const refreshComments = async () => {\n      const { threads } = this.state;\n      const comments = await Promise.all(\n        threads.map((thread) => fetchComments(thread.id))\n      );\n      this.setState((state) => ({\n        commentsById: comments.reduce(\n          (acc, comment, i) => ({ ...acc, [threads[i].id]: comment }),\n          state.commentsById\n        ),\n      }));\n    };\n\n    setInterval(() => refreshGames(), 1000 * 5);\n    setInterval(() => refreshGameThreads(), 1000 * 60);\n    setInterval(() => refreshComments(), 1000 * 5);\n\n    await refreshGames();\n    await refreshGameThreads();\n    refreshComments();\n  }\n\n  render() {\n    const { games, threads, commentsById, selectedGameId } = this.state;\n    const game = games.find((game) => game.id === selectedGameId) || {};\n    const thread = threads.find((t) => t.game === game.id) || {};\n\n    return (\n      <ApplicationWrapper>\n        <GameList\n          games={games}\n          selectedGameId={selectedGameId}\n          onSelectGame={(selectedGameId) => this.setState({ selectedGameId })}\n        />\n        {game.id && (\n          <GameView {...game} comments={commentsById[thread.id] || []} />\n        )}\n      </ApplicationWrapper>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Application } from \"./components/app\";\n\nReactDOM.render(<Application />, document.getElementById(\"root\"));\n"],"sourceRoot":""}